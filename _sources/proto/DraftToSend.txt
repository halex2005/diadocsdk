DraftToSend
===========

.. code-block:: protobuf

    message DraftToSend {
        required string BoxId = 1;
        required string DraftId = 2;
        optional string ToBoxId = 3;
        optional string ToDepartmentId = 4;
        repeated DocumentSenderSignature DocumentSignatures = 5;
    }
        

Структура данных DraftToSend предназначена для формирования команды на отправку сообщения, ранее сохраненного как черновик. Отправка выполняется при помощи метода :doc:`../http/SendDraft`. При помощи структуры DraftToSend можно добавить к сообщению-черновику подписи ЭЦП, которые могли отсутствовать на момент формирования черновика.

Изменения в черновике допускаются лишь в том случае, когда черновик не был защищен от модификаций (см. описание метода :doc:`../http/PostMessage` и структуры :doc:`MessageToPost`)

Структура данных DraftToSend содержит следующие элементы данных:

-  BoxId - идентификатор ящика отправителя сообщения, в котором сохранен черновик.

-  DraftId - идентификатор черновика, подлежащего модификации (если нужно), проверке и отправке.

-  ToBoxId - идентификатор ящика получателя сообщения. Должен отличаться от идентификатора ящика отправителя. Может отсутствовать, если черновик уже содержит идентификатор ящика получателя. Для внутреннего документа (IsInternal = true) этот идентификатор должен оставаться пустым (отсутствовать или содержать пустую строку).

-  ToDepartmentId - идентификатор подразделения в организации получателя, в которое будут отправлены все документы из сообщения (может отсутствовать, в этом случае документы будут отправлены в головное подразделение)

-  DocumentSignatures - список подписей к документам, ранее загруженным в обрабатываемый черновик. Каждая подпись задается структурой :doc:`DocumentSenderSignature`.